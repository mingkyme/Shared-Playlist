<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Shared Playlist</title>
    <script>
        function addSong() {
            var xhr = new XMLHttpRequest();
            var params = new Object();
            var url = document.getElementById('url').value;
            params.url = url;
            xhr.open("POST", "/api/song");
            xhr.setRequestHeader('Content-Type', 'application/json');
            xhr.onreadystatechange = function(){
                if(xhr.readyState == 4){
                    if(xhr.status == 200){
                        alert("추가 성공");
                    }else{
                        alert("추가 실패");
                    }
                document.getElementById('url').value = "";
                }
                
            };
            xhr.send(JSON.stringify(params));
            
        }
    </script>
</head>

<body>
    <h2>Shared Playlist 곡 추가하기</h2>
    <input type="url" id="url">
    <button onclick="javascript:addSong();">추가</button>

    <hr>
    <a href="/player">PLAYER</a>
</body>

</html>